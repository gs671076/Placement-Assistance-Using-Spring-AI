<!DOCTYPE html>
<!--
Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
Click nbfs://nbhost/SystemFileSystem/Templates/Other/html.html to edit this template
-->
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"  th:replace="~{student/base2 :: Layout(~{::section})}">    
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Test Result</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    </head>
    <body>
        <section>
            <div class="container mt-5">
                <h2 class="text-center" th:text="${mockTest.title} + ' - Result'">Mock Test Result</h2>

                <p class="text-center"><strong>Your Score:</strong> <span th:text="${score}"></span> / <span th:text="${mockTest.questions.size()}"></span></p>

                <div class="card mt-4">
                    <div class="card-body">
                        <h4 class="text-center">Question Review</h4>

                        <!-- Iterate over each question -->
                        <div th:each="question : ${mockTest.questions}" class="mb-4 p-3 border rounded">
                            <p><strong th:text="'Q: ' + ${question.question}">Question Text</strong></p>

                            <!-- Show selected answer -->
                            <p>
                                <strong>Your Answer: </strong> 
                                <span th:if="${selectedAnswers[question.id] != null}" 
                                      th:text="${selectedAnswers[question.id].answer}" 
                                      th:class="${selectedAnswers[question.id].answer == question.correctAnswer} ? 'text-success' : 'text-danger'">
                                </span>
                                <span th:if="${selectedAnswers[question.id] == null}" class="text-warning">Not Attempted</span>
                            </p>

                            <!-- Show correct answer -->
                            <p><strong>Correct Answer: </strong> <span class="text-primary" th:text="${question.correctAnswer}"></span></p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

    </body>
</html>
